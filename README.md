# S1 Plus - Stage1st 体验增强套件

## 简介

S1 Plus 是一个为 Stage1st 论坛（S1）设计的用户脚本，旨在全方位优化您的论坛浏览体验。它提供了强大的帖子/用户屏蔽、用户标记、关键字过滤、阅读进度跟踪和界面定制等功能，让您可以打造一个更清爽、更高效、更个性化的 S1。

[Image demonstrating new UI]

## 功能特点

-   **高级帖子屏蔽**：
    -   **悬停屏蔽与二次确认**：在帖子列表页，鼠标悬停在帖子图标上即可浮现“屏蔽”按钮，点击后需再次确认，有效防止误操作。
    -   **关键字/正则屏蔽**：在设置面板中添加自定义规则，自动屏蔽标题符合关键字或正则表达式的帖子。

-   **智能用户管理**：
    -   **一键屏蔽**：在帖子中，通过用户操作栏可一键屏蔽用户，其所有回帖和评分记录都将被隐藏。
    -   **联动屏蔽**：可选择在屏蔽用户的同时，自动屏蔽其发布的所有主题帖，并可在设置中为每个已屏蔽用户独立开关此选项。
    -   **引用屏蔽优化**：来自已屏蔽用户的引用会被自动折叠为一行提示，点击即可展开查看，避免了信息茧房，同时保持了版面清爽。

-   **强大的用户标记系统**：
    -   **行内标记与操作**：直接在帖子楼层中，用户昵称后方会显示“标记该用户”或已设定的标记内容。
    -   **快捷菜单**：对于已标记的用户，可通过旁边的“⋮”菜单快速进行“编辑”或“删除”操作。
    -   **悬浮提示**：当标记内容过长时，鼠标悬停即可显示完整的标记信息。
    -   **集中管理与同步**：在设置面板中可以集中查看、搜索、编辑所有用户标记，并支持独立的导入/导出功能。

-   **图片/多媒体隐藏**：
    -   **默认隐藏图片**：可在设置中开启，默认将帖子内的所有图片折叠为“显示图片”占位符，点击即可单独加载。
    -   **一键切换**：对于图片较多的楼层，会自动生成“显示/隐藏本楼所有图片”的按钮，方便一键操作。

-   **阅读进度跟踪**：
    -   **自动记录进度**：在帖子内浏览时，脚本会自动记录您看到的最后一个回复的位置（页数和楼层）。
    -   **快速跳转与新回复提示**：在帖子列表页，标题旁会显示一个快速跳转链接（如 `P2-#35`），并根据上次阅读后的新回复数量显示 `+N` 的角标，颜色还会根据最后阅读时间动态变化。

-   **界面与导航定制**：
    -   **导航栏自定义**：通过拖拽方式自由管理导航栏链接，包括添加、删除和排序。
    -   **界面微调**：可修改论坛Logo链接（使其指向论坛首页）、隐藏已屏蔽用户发言的黄条提示、自定义浏览器标签页标题后缀等。
    -   **自动签到**：访问论坛时自动完成每日签到。

-   **强大的设置中心**：
    -   **多合一面板**：所有功能均可通过一个统一的设置面板进行管理，包含“帖子屏蔽”、“用户屏蔽”、“用户标记”、“导航栏定制”、“通用设置”和“设置同步”六个标签页。
    -   **全量数据同步**：支持一键导出/导入所有配置，包括屏蔽列表、用户标记、关键字规则、自定义设置和阅读进度，方便在不同设备间同步。
    -   **危险操作**：在同步设置中，提供了高级数据清理工具，可以**选择性地**清空脚本的某一部分数据（如仅清空阅读进度），并有防误操作确认。

## 安装方法

1.  首先安装一个用户脚本管理器：
    -   Chrome/Edge: [Tampermonkey](https://www.tampermonkey.net/) 或 [Violentmonkey](https://violentmonkey.github.io/)
    -   Firefox: [Greasemonkey](https://addons.mozilla.org/en-US/firefox/addon/greasemonkey/) 或 [Tampermonkey](https://www.tampermonkey.net/)
    -   Safari: [Tampermonkey](https://www.tampermonkey.net/)

2.  然后，从以下任一地址安装 S1 Plus 脚本（推荐 GreasyFork）：
    -   **[GreasyFork](https://greasyfork.org/en/scripts/543685-s1-plus-stage1st-%E4%BD%93%E9%AA%8C%E5%A2%9E%E5%BC%BA%E5%A5%97%E4%BB%B6)** - 点击安装，自动更新。
    -   [Github](https://github.com/moekyo/S1Plus-Manual/raw/main/S1Plus.user.js) - 点击安装，手动更新。
    -   或者，复制 `S1Plus.user.js` 文件的全部内容，在用户脚本管理器中“创建新脚本”，然后粘贴并保存。

## 使用说明

### 屏蔽帖子

-   **手动屏蔽**：在帖子列表页面，将鼠标悬停在帖子最左侧的图标上，会浮现出一个红色的「屏蔽」按钮。点击按钮，再点击绿色的「✓」确认，即可隐藏该帖。
-   **关键字屏蔽**：
    1.  点击导航栏的「S1 Plus 设置」按钮，进入“帖子屏蔽”标签页。
    2.  在“标题关键字屏蔽规则”区域，您可以添加、编辑或删除规则。规则支持普通关键字和正则表达式。
    3.  启用规则后，所有标题匹配该规则的帖子都会被自动隐藏。

### 屏蔽与标记用户

1.  在帖子详情页面，找到目标用户发言楼层的右下角用户信息栏（包含“只看该用户”等链接的地方）。
2.  脚本在此处添加了「屏蔽该用户」和「标记该用户」的链接。
3.  点击「屏蔽该用户」并确认后，该用户的所有回帖和评分记录都将被隐藏。
4.  点击「标记该用户」，会弹出一个小窗口让您输入标记内容并保存。
5.  对于已标记的用户，原链接位置会变为标记内容和一个“⋮”菜单，点击菜单可快速编辑或删除标记。

### S1 Plus 设置面板

点击导航栏新增的「S1 Plus 设置」链接，即可打开功能强大的设置中心。

-   **帖子屏蔽**：管理手动屏蔽的帖子列表，并配置关键字/正则屏蔽规则。
-   **用户屏蔽**：管理已屏蔽的用户列表，并可独立控制是否屏蔽每个用户的主题帖。
-   **用户标记**：集中管理所有用户标记，支持独立导入/导出。
-   **导航栏定制**：通过拖拽方式自定义导航栏链接。
-   **通用设置**：管理阅读进度、图片隐藏、界面微调等各项功能的开关。
-   **设置同步**：一键导出或导入您的所有 S1 Plus 数据，或进行精细化的数据清理。

## 常见问题

**Q: 屏蔽和标记的数据会永久保存吗？**

A: 是的，所有数据（包括屏蔽列表、用户标记、自定义设置等）都保存在您当前浏览器的本地存储中，除非您主动清除浏览器数据、或使用脚本设置中的“危险操作”功能来清除。

**Q: 如何在不同浏览器或电脑间同步我的所有配置？**

A: 使用“设置同步”功能。在旧设备上，进入设置面板的“设置同步”标签页，点击「导出数据」并复制生成的文本。在新设备上，进入相同页面，将文本粘贴到输入框中，然后点击「导入数据」即可。

**Q: 为什么屏蔽/标记按钮没有显示？**

A: 请确保脚本已在您的用户脚本管理器中正确安装并启用。如果问题依旧，可能是论坛网页结构发生了变化，请在本项目的 Github 页面提交 Issue，等待后续更新。

## 反馈与建议

如有任何问题或建议，欢迎通过 [Github Issues](https://github.com/moekyo/S1Plus-Manual/issues) 进行反馈。

## 许可证

[MIT License](LICENSE)
